Network Resnet34 {
	Layer CONV1 {
		Type: CONV
		Dimensions { K: 64, C:3, R: 7, S: 7, Y: 224, X: 224 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(7,7) R;
			TemporalMap(7,7) S;
			TemporalMap(7,2) Y;
			TemporalMap(7,2) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV2_1_s1 {
		Type: CONV
		Dimensions { K: 64, C: 64, R: 3, S: 3, Y: 112, X: 112 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV2_2_s1 {
		Type: CONV
		Dimensions { K: 64, C: 64, R: 3, S: 3, Y: 56, X: 56 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV2_1_s2 {
		Type: CONV
		Dimensions { K: 64, C: 64, R: 3, S: 3, Y: 56, X: 56 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV2_2_s2 {
		Type: CONV
		Dimensions { K: 64, C: 64, R: 3, S: 3, Y: 56, X: 56 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV2_1_s3 {
		Type: CONV
		Dimensions { K: 64, C: 64, R: 3, S: 3, Y: 56, X: 56 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV2_2_s3 {
		Type: CONV
		Dimensions { K: 128, C: 64, R: 3, S: 3, Y: 56, X: 56 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_1_s1 {
		Type: CONV
		Dimensions { K: 128, C: 128, R: 3, S: 3, Y: 56, X: 56 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_2_s1 {
		Type: CONV
		Dimensions { K: 128, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_1_s2 {
		Type: CONV
		Dimensions { K: 128, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_2_s2 {
		Type: CONV
		Dimensions { K: 128, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_1_s3 {
		Type: CONV
		Dimensions { K: 128, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_2_s3 {
		Type: CONV
		Dimensions { K: 128, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_1_s4 {
		Type: CONV
		Dimensions { K: 128, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV3_2_s4 {
		Type: CONV
		Dimensions { K: 256, C:128, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_1_s1 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 28, X: 28 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_2_s1 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_1_s2 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_2_s2 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_1_s3 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_2_s3 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV4_1_s4 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_2_s4 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV4_1_s5 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_2_s5 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_1_s6 {
		Type: CONV
		Dimensions { K: 256, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV4_2_s6 {
		Type: CONV
		Dimensions { K: 512, C:256, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV5_1_s1 {
		Type: CONV
		Dimensions { K: 512, C:512, R: 3, S: 3, Y: 14, X: 14 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV5_2_s1 {
		Type: CONV
		Dimensions { K: 512, C:512, R: 3, S: 3, Y: 7, X: 7 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}


	Layer CONV5_1_s2 {
		Type: CONV
		Dimensions { K: 512, C:512, R: 3, S: 3, Y: 7, X: 7 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV5_2_s2 {
		Type: CONV
		Dimensions { K: 512, C:512, R: 3, S: 3, Y: 7, X: 7 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV5_1_s3 {
		Type: CONV
		Dimensions { K: 512, C:512, R: 3, S: 3, Y: 7, X: 7 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}

	Layer CONV5_2_s3 {
		Type: CONV
		Dimensions { K: 512, C:512, R: 3, S: 3, Y: 7, X: 7 }
		Dataflow {
			SpatialMap(1,1) K;
			TemporalMap(64,64) C;
			TemporalMap(3,3) R;
			TemporalMap(3,3) S;
			TemporalMap(3,1) Y;
			TemporalMap(3,1) X;	
			Cluster(64, P);
			SpatialMap(1,1) C;
		}
	}
}


//Accelerator {
//  PE { NumPEs: 128; VectorWidth: 4; MultPrecision: INT8, AddPrecision: INT16 }
//  Buffer { GlobalL2: 2048, LocalL1: 64}
//  NoC {Bandwidth: 64; AvgLatency: 2}
//}
